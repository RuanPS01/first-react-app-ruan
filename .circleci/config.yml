orbs: # declare what orbs we are going to use
  node: circleci/node@2.0.2 # the node orb provides common node-related configuration

version: 2.1 # using 2.1 provides access to orbs and other features

jobs:
   yarn:
     steps:
       - run:
           name: Yarn Install
           command: yarn
   build:
     steps:
       - run:
           name: Yarn Build
           command: yarn build

 workflows:
   yarn-and-build:
     jobs:
       - yarn
       - build:
           requires:
             - yarn # only deploy once build job has completed
           filters:
             branches:
               only: master # only deploy on the master branch
